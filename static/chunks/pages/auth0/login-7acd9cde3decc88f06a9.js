(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[642],{3072:function(e,t,r){"use strict";r.d(t,{j:function(){return c}});var n=r(5353),a=r(4449),o=r(5893),i=(0,a.zo)("div",{padding:"12px 16px",borderRadius:"12px",textAlign:"center",variants:{fullWidth:{true:{width:"100%"}},type:{alert:{backgroundColor:"$supportLightBlue",border:"1px solid $colors$coreBluesBlue"},warning:{backgroundColor:"$supportLightOrange",border:"1px solid $colors$supportOrange"},error:{backgroundColor:"$supportLightRed",border:"1px solid $colors$supportRed"}}},defaultVariants:{type:"alert"}}),c=function(e){var t=e.children,r=e.type,a=e.textSize,c=void 0===a?"medium":a,s=e.fullWidth;return(0,o.jsx)(i,{type:r,fullWidth:s,children:(0,o.jsx)(n.x.UIParagraph,{color:"inherit",size:c,children:t})})}},6650:function(e,t,r){"use strict";r.d(t,{f:function(){return d}});var n=r(4449),a=r(657),o=r(5893),i=(0,n.zo)("div",{position:"relative"}),c=(0,n.zo)("div",{width:"100%",height:"100%",position:"relative",transitionProperty:"opacity",transitionDuration:"0.2s"}),s=(0,n.zo)("div",{position:"absolute",height:"40px",width:"40px",top:"48px",left:"50%",transform:"translateX(-50%)"}),l=(0,n.F4)({from:{opacity:"0"},to:{opacity:"1"}}),u=(0,n.F4)({from:{opacity:"1"},to:{opacity:"0"}}),p=function(e){var t=e?"ease-in":"ease-out";return".2s ".concat(e?l:u," 1 normal forwards ").concat(t)},d=function(e){var t=e.isLoading,r=e.children,n=e.loadingOpacity,l=void 0===n?.2:n;return(0,o.jsxs)(i,{children:[(0,o.jsx)(s,{css:{animation:p(t)},children:(0,o.jsx)(a.$,{})}),(0,o.jsx)(c,{css:{backgroundColor:t?"white":"transparent",opacity:t?l:1,pointerEvents:t?"none":"initial"},children:r})]})}},5226:function(e,t,r){"use strict";r.d(t,{i:function(){return a}});var n=r(7294),a=function(){var e=(0,n.useState)({width:void 0,height:void 0}),t=e[0],r=e[1];return(0,n.useEffect)((function(){var e=function(){r({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),t}},4781:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Xr}});var n=r(9008),a=r(1752),o=r(1163),i=r(7294),c=r(485),s=r(2848),l=r(4449),u=r(5471),p=r(5226),d=r(6650),g=r(3937),h=r(7466),f=r(3602),b=r(266),m=r(809),y=r.n(m);var v,x,w,k=r(2809),j=r(299);!function(e){e[e.Initial=0]="Initial",e[e.InProgress=1]="InProgress",e[e.Success=2]="Success",e[e.Error=3]="Error"}(v||(v={})),function(e){e[e.Initial=0]="Initial",e[e.Passwordless=1]="Passwordless",e[e.ChangePassword=2]="ChangePassword",e[e.ForgotPassword=3]="ForgotPassword",e[e.Login=4]="Login",e[e.Signup=5]="Signup"}(x||(x={})),function(e){e.Apple="apple",e.Google="google-oauth2"}(w||(w={}));var O=JSON.parse('{"icon":"https://s3-us-west-2.amazonaws.com/slack-files2/avatars/2021-07-19/2303776952929_2d115ec09bead69d00f8_132.png","assetsUrl":"","auth0Domain":"auth.stage.warby.io","auth0Tenant":"wp-auth-stage","clientConfigurationBaseUrl":"https://auth.stage.warby.io/","callbackOnLocationHash":false,"callbackURL":"https://www.stage.warby.io/auth0/callback","cdn":"https://cdn.auth0.com/","clientID":"qPIgGvA5ncxc0W1BzjXJpd2jDlIpy5Kc","dict":{"signin":{"title":"Ecom-WWW"}},"extraParams":{"protocol":"oauth2","audience":"https://wapi.warbyparker.com","country":"US","expP":"true","expR":"true","response_type":"code","scope":"openid public offline_access","_csrf":"CsH9uyEz-mm1I77YOou31aLDe6SrMZxkFm8k","_intstate":"deprecated","state":"hKFo2SBSU2oyc2lRejJOc2FpTndsYmt2aU5EbjgyczVrSG1lSKFupWxvZ2luo3RpZNkgU1lod0xQMHdwQzl0d3hNZGltTlQ0ZmdYUWNLM3A4UEWjY2lk2SBxUElnR3ZBNW5jeGMwVzFCempYSnBkMmpEbElweTVLYw"},"internalOptions":{"protocol":"oauth2","audience":"https://wapi.warbyparker.com","country":"US","expP":"true","expR":"true","response_type":"code","scope":"openid public offline_access","_csrf":"CsH9uyEz-mm1I77YOou31aLDe6SrMZxkFm8k","_intstate":"deprecated","state":"hKFo2SBSU2oyc2lRejJOc2FpTndsYmt2aU5EbjgyczVrSG1lSKFupWxvZ2luo3RpZNkgU1lod0xQMHdwQzl0d3hNZGltTlQ0ZmdYUWNLM3A4UEWjY2lk2SBxUElnR3ZBNW5jeGMwVzFCempYSnBkMmpEbElweTVLYw"},"widgetUrl":"https://cdn.auth0.com/w2/auth0-widget-5.2.min.js","isThirdPartyClient":false,"authorizationServer":{"url":"https://auth.stage.warby.io","issuer":"https://auth.stage.warby.io/"},"colors":{}}');function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var C,P,E=function(e){var t=e.authMethod,r=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({image:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAIAQMAAAD+wSzIAAAABlBMVEX///+/v7+jQ3Y5AAAADklEQVQI12P4AIX8EAgALgAD/aNpbtEAAAAASUVORK5CYII",type:"code"},e.challenge||{});return'<div id="'.concat(t,'-captcha-challenge" data-challenge-type="').concat(r.type,'">\n    <img\n      id="').concat(t,'-captcha-img-elem"\n      alt="captcha-mock-img"\n      style="width: 150px; height: 50px;"\n      src="').concat(r.image,'"/>\n    </div>\n    <input\n      type="text"\n      name="captcha"\n      className="form-control captcha-control"\n    />')};function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var I=(null===(C=(0,a.default)())||void 0===C||null===(P=C.publicRuntimeConfig)||void 0===P?void 0:P.useAuth0LocalConfig)||!1,D={dbConnection:"wp-springfield-db",responseType:"code",windowConfigObject:"__AUTH0_CONFIG",hostedPageConfigKey:"@@config@@",captchaSigninExpKey:"expSC",captchaElementId:"-captcha-container",captchaImgElementId:"-captcha-img-elem",captchaChallengeId:"-captcha-challenge",captchaEnabledMethods:["login","signup"],defaultClientId:"ob15Y84odQN4Q6X1BnsMNOAZnZNdGD9O"},L=function(e){var t,r,n;if(!e)return"";if(null!==e&&void 0!==e&&null!==(t=e.original)&&void 0!==t&&t.message)try{r=JSON.parse(e.original.message)}catch(a){console.log("Auth0 Error Response Does Not Contain JSON")}return r&&r.message&&(n=r.message),n||(null===e||void 0===e?void 0:e.code)||(null===e||void 0===e?void 0:e.policy)||(null===e||void 0===e?void 0:e.description)||""},A=function e(t){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),(0,k.Z)(this,"getConfigFromAuth0",(function(){try{if(I)return O;var e,t=null===(e=window)||void 0===e?void 0:e[D.windowConfigObject];if("undefined"!==typeof t)return t}catch(r){return console.warn(r),null}return console.warn("Auth0SDK initialization likely attempted outside Auth0 Hosted Environment."),null})),(0,k.Z)(this,"initializeAuth0SDK",(function(e){var t=r.getConfigFromAuth0();if(t){var n=t.internalOptions.leeway;if(n){var a=parseInt(String(n),10);Number.isNaN(a)||(t.internalOptions.leeway=a)}var o=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({overrides:{__tenant:t.auth0Tenant,__token_issuer:t.authorizationServer.issuer},domain:t.auth0Domain,clientID:t.clientID,redirectUri:t.callbackURL,responseType:e||D.responseType},t.internalOptions);r.clientId=t.clientID||D.defaultClientId,r.authSDK=new j.sO(o),r.renderAuth0Captcha()}})),(0,k.Z)(this,"login",(function(e){var t=e.email,n=e.password,a=e.captcha;return new Promise((function(e,o){if(r.authSDK||o(new Error("Login Attempted without Auth0.js SDK Initialized.")),r.authSDK&&"object"===typeof r.authSDK){var i={realm:r.dbConnection,username:t,password:n,onRedirecting:function(t){e({success:!0}),t()}};a&&(i.captcha=a);try{r.authSDK.login(i,(function(t){return e(t?{error:L(t)}:{success:!0})}))}catch(c){o(c)}}}))})),(0,k.Z)(this,"passwordlessStart",(function(e){return new Promise((function(t,n){if(!r.authSDK)return n(new Error("PasswordlessStart Attempted without Auth0.js SDK Initialized."));if("object"!==typeof r.authSDK)return n(new Error("PasswordlessStart Attempted with invalid authSDK."));try{var a;return null===(a=r.authSDK)||void 0===a?void 0:a.passwordlessStart({connection:"email",send:"link",email:e},(function(e){return t(e?{error:L(e)}:{success:!0})}))}catch(o){return n(o)}}))})),(0,k.Z)(this,"changePassword",(function(e){var t=e.email;return new Promise((function(e,n){if(r.authSDK||n(new Error("Change Password Attempted without Auth0.js SDK Initialized.")),r.authSDK&&"object"===typeof r.authSDK)try{r.authSDK.changePassword({connection:r.dbConnection,email:t},(function(t){return e(t?{error:L(t)}:{success:!0})}))}catch(a){n(a)}}))})),(0,k.Z)(this,"signup",(function(e){var t=e.email,n=e.password,a=e.firstName,o=e.lastName,i=e.country,c=e.captcha;return new Promise((function(e,s){if(r.authSDK||s(new Error("Signup Attempted without Auth0.js SDK Initialized.")),r.authSDK&&"object"===typeof r.authSDK){var l={connection:r.dbConnection,email:t,password:n,username:t,userMetadata:{first_name:a,last_name:o,country:i||"US",client_id:r.clientId},onRedirecting:function(t){e({success:!0}),t()}};c&&(l.captcha=c);try{r.authSDK.redirect.signupAndLogin(l,(function(t){return e(t?{error:L(t)}:{success:!0})}))}catch(u){s(u)}}}))})),(0,k.Z)(this,"socialSignIn",(function(e){var t=e.connection;try{if(!r.authSDK)throw new Error("SocialSignInResult Attempted without Auth0.js SDK Initialized.");if(t!==w.Google&&t!==w.Apple)throw new Error("SocialSignInResult Attempted with invalid or unsupported connection type.");if("object"!==typeof r.authSDK)throw new Error("Social sign in attempted with invalid authSDK.");r.authSDK.authorize({connection:t})}catch(n){console.warn(n)}})),(0,k.Z)(this,"getCaptchaElement",(function(){if(r.authSDK){console.log("".concat(r.authMethod," - getCaptchaElement"));var e="".concat(r.authMethod).concat(D.captchaElementId),t=window.document.getElementById(e);return console.log("".concat(r.authMethod," - getCaptchaElement:"),t),t}return null})),(0,k.Z)(this,"getCaptchaImageSrc",(function(){if(r.auth0Captcha){var e="".concat(r.authMethod).concat(D.captchaImgElementId),t=window.document.getElementById(e);if(t)return t.src}return null})),(0,k.Z)(this,"getCaptchaChallengeType",(function(){if(r.auth0Captcha){var e="".concat(r.authMethod).concat(D.captchaChallengeId),t=window.document.getElementById(e);if(t)return t.dataset.challengeType||null}return null})),(0,k.Z)(this,"renderAuth0Captcha",(function(){if(r.authSDK&&r.captchaEnabled){console.log("\n\nrenderAuth0Captcha: ".concat(r.authMethod,"\n\n")),function(e){var t=e.authMethod,r="".concat(t,"-captcha-top-container");if(!document.getElementById(r)){var n=window.document.createElement("div");n.style.display="none",n.id=r;var a=window.document.createElement("div");a.id="".concat(t,"-captcha-container"),a.classList.add("captcha-container"),n.appendChild(a),window.document.body.appendChild(n)}}({authMethod:r.authMethod});var e=r.getCaptchaElement();console.log("\n\n".concat(r.authMethod,"captchaPlaceholderElem:\n\n"),e),e&&(r.captchaPlaceholderElem=e,r.startCaptchaDOMListener(),r.captchaEnabled&&r.mockCaptcha?r.mockAuth0SDKCaptcha():r.auth0Captcha=r.authSDK.renderCaptcha(e,{templates:{auth0:function(e){return E({authMethod:r.authMethod,challenge:e})},error:function(){return'<div class="error">Error getting the bot detection challenge.</div>'}}}))}})),(0,k.Z)(this,"mockAuth0SDKCaptcha",(function(){r.auth0Captcha={reload:function(e){e()},getValue:function(){return""}};var e=E({authMethod:r.authMethod}),t=r.getCaptchaElement();t&&(t.innerHTML=e)})),(0,k.Z)(this,"reloadCaptcha",(function(){console.log("\n\n".concat(r.authMethod," - reloadCaptcha")),r.auth0Captcha&&r.auth0Captcha.reload&&(console.log("\n\n".concat(r.authMethod," - reloadCaptcha - reloading")),r.auth0Captcha.reload((function(e){e&&console.warn(e)})))})),(0,k.Z)(this,"startCaptchaDOMListener",(function(){if(console.log("".concat(r.authMethod,"\n\nstartCaptchaDOMListener")),r.currentObserver)console.log("\n\nstartCaptchaDOMListener - observer already exists exiting");else if(console.log("".concat(r.authMethod,"\n\nstartCaptchaDOMListener - observer does not exist, creating")),!!r.captchaPlaceholderElem){r.currentObserver=new MutationObserver((function(){var e=r.getCaptchaImageSrc();console.log("".concat(r.authMethod,"\n\nmutationCallback - currentSrc: "),e),r.captchaImgSrc!==e&&(console.log("".concat(r.authMethod,"\n\nmutationCallback - src changed, firing triggerCaptchaChangeCallback")),r.captchaImgSrc=e,r.captchaType=r.getCaptchaChallengeType(),r.triggerCaptchaChangeCallback({attempts:0}))})),r.captchaPlaceholderElem&&(console.log("\n\nstartCaptchaDOMListener - observer created, starting this.currentObserver.observe"),r.currentObserver.observe(r.captchaPlaceholderElem,{attributes:!0,childList:!0,subtree:!0}))}})),(0,k.Z)(this,"triggerCaptchaChangeCallbackWithExistingValues",(function(){var e=r.captchaImgSrc,t=r.captchaType,n=r.captchaChangeCallback;console.log("\n\n".concat(r.authMethod," - triggerCaptchaChangeCallbackWithExistingValues - checking if we have values")),console.log("values: ",{captchaImgSrc:e,captchaType:t,captchaChangeCallback:n}),r.currentObserver&&e&&t&&n?(console.log("\n\n".concat(r.authMethod," - triggerCaptchaChangeCallbackWithExistingValues - we have values, firing captchaChangeCallback")),n({imgSrc:e,isCode:"code"===t})):console.log("\n\n".concat(r.authMethod," - triggerCaptchaChangeCallbackWithExistingValues - we do not have values, exiting"))})),(0,k.Z)(this,"setCaptchaDOMListener",(function(e){console.log("\n\n".concat(r.authMethod," - setCaptchaDOMListener - setting callback")),r.captchaChangeCallback=e,r.triggerCaptchaChangeCallbackWithExistingValues()})),(0,k.Z)(this,"triggerCaptchaChangeCallback",(function(e){var t=e.attempts;return r.captchaChangeCallback?(console.log("\n\n".concat(r.authMethod," - triggerCaptchaChangeCallback - has callback, firing callback")),r.captchaChangeCallback({imgSrc:r.captchaImgSrc,isCode:"code"===r.captchaType})):t<30?(console.log("\n\n".concat(r.authMethod," - triggerCaptchaChangeCallback - no callback, waiting 150ms to retry")),setTimeout((function(){r.triggerCaptchaChangeCallback({attempts:t+1})}),150)):null})),this.authSDK=null,this.dbConnection=D.dbConnection,this.auth0Captcha=null,this.captchaPlaceholderElem=null,this.captchaImgSrc=null,this.captchaType=null,this.captchaChangeCallback=null,this.authMethod=t&&t.authMethod,this.mockCaptcha=I,this.currentObserver=null;var n="true"===function(e){var t=window.location.search;return new URLSearchParams(t).get(e)||null}(D.captchaSigninExpKey),a=!!this.authMethod&&D.captchaEnabledMethods.includes(this.authMethod);this.captchaEnabled=n&&a,this.initializeAuth0SDK(null===t||void 0===t?void 0:t.responseType),console.log("\n\ninstantiating Auth0SDKWrapper for ".concat(this.authMethod,"\n\n"))},z=new A({responseType:"code"}),$=r(9491),B=JSON.parse('{"px":{"policyMap":[{"match":"pre_passwordless_custom_copy","copy":"It looks like you haven\'t logged into Warby Parker in a while. To access your account, you\u2019ll need to","postCTACopy":"Thank you!","ctaType":"default"},{"match":"post_passwordless_custom_copy","copy":"It looks like you haven\'t logged into Warby Parker in a while. To access your account, you\u2019ll need to","ctaType":"passwordlessLink"},{"match":"set up a password","copy":"It appears you haven\u2019t set up a password for your account yet.","ctaType":"createPassword"},{"match":"new_password_setup","copy":"You haven\'t created a password for this account yet.","ctaType":"passwordlessLink2"},{"match":"access_denied","copy":"The information you entered is incorrect. Try again or.","ctaType":"default"},{"match":"invalid_user_password","copy":"The information you entered is incorrect. Try again or","ctaType":"default"},{"match":"passwordless_link","copy":"Your email and/or password is incorrect. You can try again, or","ctaType":"passwordlessLink"},{"match":"too_many_attempts","copy":"You\u2019ve reached the maximum number of login attempts. Please","ctaType":"default"},{"match":"password_leaked","copy":"Your password needs to be reset. Please","ctaType":"default"},{"match":"invalid_signup","copy":"Looks like you already have an account. Sign in or","ctaType":"default"},{"match":"user_exists","copy":"Looks like you already have an account. Sign in or","ctaType":"default"},{"match":"username_exists","copy":"Looks like you already have an account. Sign in or","ctaType":"default"},{"match":"compromised","copy":"This password has been compromised on another site. To ensure the security of your Warby Parker account, please choose a different password.","ctaType":"default"},{"match":"invalid_password","copy":"This password is too weak. Please make sure the password is at least 8 characters in length.","ctaType":"default"},{"match":"default","copy":"Oops! Something went wrong, please try logging in again or","ctaType":"default"}],"ctaTypes":{"default":{"copy":"reset your password.","href":"/account/forgot-password"},"createPassword":{"copy":"reset your password.","href":"/account/forgot-password"},"passwordlessLink":{"copy":"sign in with a one-time-link.","href":"/account/passwordless-link"},"passwordlessLink2":{"copy":"Sign in with one-time link.","href":"/account/passwordless-link"}}},"id":{"policyMap":[{"match":"default","copy":"Oops! Something went wrong, please try again."}]},"TJ":{"J":"reset your password."},"sW":{"guestCheckout":{"headerText":"Continue to checkout","subHeaderText":"Easily track and manage your order (with the option to create an account later).","cta":{"type":"button","copy":"Continue as a guest","href":"/checkout/step"}},"signUpLinkPanel":{"headerText":"Create account","subHeaderText":"Easily save and manage your prescriptions, addresses, and payment information.","cta":{"type":"button","copy":"Create account","href":"/login?isSignup=true"}},"signInLinkPanel":{"headerText":"","subHeaderText":"","cta":{"type":"button","copy":"Sign in","href":"#"}},"signUp":{"headerText":"Create account","subHeaderText":"Easily save and manage your prescriptions, addresses, and payment information.","cta":{"type":"button","copy":"Create account"}},"signIn":{"headerText":"Sign in","subHeaderText":"Access your saved prescriptions, addresses, and payment information for a fast checkout.","cta":{"type":"text","copy":"Forgot password?"}},"forgotPassword":{"headerText":"Forgot your password?","subHeaderText":"No problem! We\u2019ll send instructions to your inbox so you can reset your passsword.","cta":{"type":"text","copy":"Go back to sign in","href":"#"},"successConfig":{"headerText":"We received your request","subHeaderText":"If your email address has a Warby Parker account associated with it, you will receive an email in a few seconds.","cta":{"type":"button","copy":"Go back to sign in","href":"#"}}},"changePassword":{"headerText":"Change your password","subHeaderText":"We\u2019ll send instructions to your inbox so you can change your passsword.","cta":{"type":"text","copy":"Go back to profile","href":"/account/profile"},"successConfig":{"headerText":"Instructions sent","subHeaderText":"You should receive an email in a few seconds. Didn\u2019t get it? Check your spam folder.","cta":{"type":"button","copy":"Go back to profile","href":"/account/profile"}}},"passwordless":{"headerText":"We sent you a sign-in link","subHeaderText":"No password necessary\u2013easy peasy :-) We sent your link to sign in to this email address:","cta":{"type":"custom","copy":"Try another way to sign in","href":"#"}},"genericError":{"headerText":"Something went wrong","subHeaderText":"We weren\u2019t able to send you an email. You can try again by submitting your email to get a new one-time link.","cta":{"type":"button","copy":"Try again","href":"#"}}}}');function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var F=r(3072),H=r(219),W=r(5353),N=(0,l.zo)("button",{border:"none",position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",transitionProperty:"background, color",transition:"$productiveP2S",variants:{size:{small:{maxHeight:"32px",padding:"6px 16px"},large:{maxHeight:"48px",padding:"13px 24px"}},shape:{pill:{borderRadius:"100px"},rectangle:{borderRadius:"2px"}},color:{blue:{background:"$coreBluesBlue",color:"$grayscaleWhite","&:hover:not([disabled])":{background:"$coreBluesDenim",color:"$grayscaleWhite"},"&:focus-visible":{_buttonFocusOutline:"$coreBluesDenim",color:"$grayscaleWhite"},"&:focus:not(:focus-visible)":{background:"$coreBluesDenim",color:"$grayscaleWhite"},"&:disabled":{color:"$grayscaleWhiteAlpha50"}},denim:{background:"$coreBluesDenim",color:"$grayscaleWhite","&:hover:not([disabled])":{background:"$coreBluesNavy",color:"$grayscaleWhite"},"&:focus-visible":{_buttonFocusOutline:"$coreBluesDenim",color:"$grayscaleWhite"},"&:focus:not(:focus-visible)":{background:"$coreBluesNavy",color:"$grayscaleWhite"},"&:disabled":{color:"$grayscaleWhiteAlpha50"}},clear:{background:"$grayscaleWhite",color:"$grayscaleCharcoal",border:"1px solid",borderColor:"$grayscaleSmoke","&:hover:not([disabled])":{borderColor:"$grayscaleStone",color:"$grayscaleCharcoal"},"&:focus-visible":{_buttonFocusOutline:"$grayscaleStone",color:"$grayscaleCharcoal"},"&:focus:not(:focus-visible)":{borderColor:"$grayscaleStone",color:"$grayscaleCharcoal"},"&:disabled":{color:"$grayscaleSmoke",borderColor:"$grayscaleSmoke"}},white:{background:"$grayscaleWhite",color:"$grayscaleCharcoal","&:hover:not([disabled])":{background:"$grayscaleSilk",color:"$grayscaleCharcoal"},"&:focus-visible":{background:"$grayscaleSilk",_buttonFocusOutline:"$grayscaleStone",color:"$grayscaleCharcoal"},"&:focus:not(:focus-visible)":{background:"$grayscaleSilk",color:"$grayscaleCharcoal"},"&:disabled":{color:"$grayscaleSmoke"}}}}}),_=(0,l.zo)("div",{display:"inline-flex","& svg":{width:"20px",height:"18px"},variants:{position:{start:{paddingRight:"8px"},end:{paddingLeft:"8px"}}}}),Z=(0,l.iv)({background:"transparent",display:"inline-flex",alignItems:"center",borderWidth:"2px",borderStyle:"solid",borderColor:"transparent",borderRadius:"4px",padding:"4px",transitionProperty:"color, opacity",transition:"$productiveP2S",variants:{color:{blue:{color:"$coreBluesBlue","&:hover:not([disabled])":{color:"$coreBluesDenim"},"&:focus-visible":{color:"$coreBluesDenim",_textButtonFocusOutline:"$coreBluesDenim"},"&:focus:not(:focus-visible)":{color:"$coreBluesDenim"},"&:disabled":{opacity:.5}},charcoal:{color:"$grayscaleCharcoal","&:hover:not([disabled])":{color:"$grayscaleStone"},"&:focus-visible":{color:"$grayscaleStone",_textButtonFocusOutline:"$grayscaleStone"},"&:focus:not(:focus-visible)":{color:"$grayscaleStone"},"&:disabled":{opacity:.5}},stone:{color:"$grayscaleStone","&:hover:not([disabled])":{color:"$grayscaleCharcoal"},"&:focus-visible":{color:"$grayscaleCharcoal",_textButtonFocusOutline:"$grayscaleCharcoal"},"&:focus:not(:focus-visible)":{color:"$grayscaleCharcoal"},"&:disabled":{opacity:.5}},white:{background:"$grayscaleWhite",color:"$grayscaleCharcoal","&:hover:not([disabled])":{background:"$grayscaleSilk",color:"$grayscaleCharcoal"},"&:focus-visible":{background:"$grayscaleSilk",_buttonFocusOutline:"$grayscaleStone",color:"$grayscaleCharcoal"},"&:focus:not(:focus-visible)":{background:"$grayscaleSilk",color:"$grayscaleCharcoal"},"&:disabled":{color:"$grayscaleSmoke"}}}}}),K=r(5893),Y=["children","href","startIcon","endIcon","color"];function U(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function V(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?U(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):U(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var G=(0,l.zo)("a",Z),X=(0,i.forwardRef)((function(e,t){var r=e.children,n=e.href,a=e.startIcon,o=e.endIcon,i=e.color,c=void 0===i?"blue":i,s=(0,H.Z)(e,Y);return(0,K.jsxs)(G,V(V({},s),{},{ref:t,href:n,color:c,children:[a&&(0,K.jsx)(_,{position:"start",children:a}),(0,K.jsx)(W.x.UIButton,{color:"inherit",children:r}),o&&(0,K.jsx)(_,{position:"end",children:o})]}))}));X.displayName="TextLink";var J,Q=(0,i.createContext)({}),q=function(e){var t=e.isPasswordlessLinkEnabled,r=e.isGoogleSignInEnabled,n=e.isAppleSignInEnabled,a=e.useNewCopyForPostPasswordlessLaunch,o=e.children;return(0,K.jsx)(Q.Provider,{value:{isPasswordlessLinkEnabled:t,isGoogleSignInEnabled:r,isAppleSignInEnabled:n,useNewCopyForPostPasswordlessLaunch:a},children:o})},ee=function(){return(0,i.useContext)(Q)},te=(0,l.F4)({from:{opacity:"0"},to:{opacity:"1"}}),re=(0,l.zo)("div",{marginBottom:"12px",animation:".3s ".concat(te," 1 normal forwards ease-in"),span:{fontSize:"14px",lineHeight:"20px",a:{paddingTop:"0",paddingBottom:"0"},"@desktop":{fontSize:"16px",lineHeight:"22px"}}}),ne=function(e){var t=e.error,r=e.cta,n=e.errorPolicyMap,a=ee(),o=function(e,t,r,n,a){var o=e.policyMap,i=t&&"string"===typeof t?t:"default";"password_change_required"===i?i=a?"post_passwordless_custom_copy":"pre_passwordless_custom_copy":n&&"invalid_user_password"===i?i="passwordless_link":n&&i.includes("set up a password")&&(i="new_password_setup");var c=o.find((function(e){var t=e.match;return i.includes(t)}))||o[o.length-1],s=c.copy,l=c.ctaType,u=c.postCTACopy;return{copy:s,cta:R(R(R({},e.ctaTypes[l]),r||{}),{},{copy:e.ctaTypes[l].copy}),postCTACopy:u}}(n,t,r,a.isPasswordlessLinkEnabled,a.useNewCopyForPostPasswordlessLaunch),i=o.copy,c=o.cta,s=o.postCTACopy;return(0,K.jsx)(re,{children:(0,K.jsxs)(F.j,{type:"warning",textSize:"large",children:[i,c&&(0,K.jsx)(K.Fragment,{children:(0,K.jsx)(X,{href:c.href||"",onClick:c.onClick,children:c.copy})}),s]})})},ae=function(e){return!(e&&e.length>0)},oe={email:function(e){return ae(e)?"Email address must not be blank.":/\S+@\S+\.\S+/.test(e)?null:"Email address must be valid."},password:function(e){return ae(e)?"Password must not be blank.":null}},ie=r(318),ce=new A,se=["title","titleId"];function le(){return(le=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ue(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var pe=function(e){var t=e.title,r=e.titleId,n=ue(e,se);return i.createElement("svg",le({width:15,height:19,viewBox:"0 0 15 19",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},n),t?i.createElement("title",{id:r},t):null,J||(J=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.453 4.305c1.047.089 2.094-.53 2.748-1.313.644-.806 1.069-1.888.96-2.992-.927.044-2.072.618-2.727 1.424-.6.696-1.112 1.822-.981 2.881zm1.253.566c.68-.27 1.522-.605 2.444-.551.59.044 2.29.22 3.381 1.854a.78.78 0 01-.033.022c-.27.178-1.983 1.306-1.963 3.533.02 2.653 2.156 3.643 2.435 3.772l.03.014-.007.022c-.055.182-.423 1.385-1.258 2.617-.774 1.148-1.57 2.274-2.836 2.296-.595.011-.996-.165-1.414-.347-.439-.192-.896-.393-1.617-.393-.747 0-1.226.206-1.686.404-.4.172-.787.338-1.324.358-1.222.044-2.149-1.214-2.923-2.362C.353 13.79-.857 9.574.779 6.726c.796-1.424 2.246-2.318 3.806-2.34.68-.013 1.33.248 1.897.476.433.175.818.33 1.135.33.282 0 .652-.148 1.09-.321z",fill:"#fff"})))},de=r(5624),ge=r(657),he=(0,l.zo)("button",{border:"none",borderRadius:"100px",position:"relative",display:"inline-flex",justifyContent:"center",alignItems:"center",transitionProperty:"background, color",transition:"$productiveP2S",maxHeight:"48px",padding:"13px 24px",width:"100%"}),fe=["disabled","isLoading","children"];function be(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function me(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?be(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ye,ve,xe,we,ke,je=(0,l.zo)(he,{backgroundColor:"#000000",color:"$grayscaleWhite","&:hover:not([disabled])":{background:"#333333"},"&:focus-visible":{_buttonFocusOutline:"#333333",background:"#333333","&:hover":{_buttonFocusOutline:"#333333",background:"#333333"}},"&:disabled":{color:"$grayscaleWhiteAlpha50"},variants:{isLoading:{true:{opacity:"80%"}}}}),Oe=(0,l.zo)("div",{display:"inline-flex",color:"$grayscaleWhite","& svg":{width:"20px",height:"18px"},padding:"2px 20px 4px 2px",variants:{disabled:{true:{"& svg":{opacity:"50%"}}},isLoading:{true:{"& svg":{opacity:"20%"}}}}}),Se=(0,l.zo)("div",{opacity:"1",lineHeight:"22px",transitionProperty:"opacity",transitionDuration:".2s",variants:{isLoading:{true:{opacity:"20%"}}}}),Ce=(0,l.zo)("div",{position:"absolute",left:"50%",transform:"translateX(-50%)",display:"inline-block"}),Pe=(0,i.forwardRef)((function(e,t){var r=e.disabled,n=e.isLoading,a=void 0!==n&&n,o=e.children,i=(0,H.Z)(e,fe);return(0,K.jsxs)(je,me(me({},i),{},{ref:t,disabled:r,isLoading:a,children:[(0,K.jsx)(Oe,{disabled:r,isLoading:a,children:(0,K.jsx)(pe,{})}),a&&(0,K.jsx)(Ce,{children:(0,K.jsx)(ge.$,{size:28})}),(0,K.jsx)(Se,{isLoading:a,children:(0,K.jsx)(de.r,{size:"300",children:o})})]}))}));Pe.displayName="AppleButton";var Ee=["title","titleId"];function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ie(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var De=function(e){var t=e.title,r=e.titleId,n=Ie(e,Ee);return i.createElement("svg",Te({width:24,height:24,viewBox:"0 0 28 28",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},n),t?i.createElement("title",{id:r},t):null,ye||(ye=i.createElement("circle",{cx:14,cy:14,r:14,fill:"#FFF"})),ve||(ve=i.createElement("path",{d:"M22.64 14.205c0-.639-.057-1.252-.164-1.841H14v3.481h4.844a4.14 4.14 0 01-1.796 2.716v2.259h2.908c1.702-1.567 2.684-3.875 2.684-6.615z",fill:"#4285F4"})),xe||(xe=i.createElement("path",{d:"M14 23c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H5.957v2.332A8.997 8.997 0 0014 23z",fill:"#34A853"})),we||(we=i.createElement("path",{d:"M8.964 15.71A5.41 5.41 0 018.682 14c0-.593.102-1.17.282-1.71V9.958H5.957A8.996 8.996 0 005 14c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05"})),ke||(ke=i.createElement("path",{d:"M14 8.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C18.463 5.891 16.426 5 14 5a8.997 8.997 0 00-8.043 4.958l3.007 2.332c.708-2.127 2.692-3.71 5.036-3.71z",fill:"#EA4335"})))},Le=["disabled","isLoading","children"];function Ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ze(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var $e=(0,l.zo)(he,{backgroundColor:"#4285F4",color:"$grayscaleWhite","&:hover:not([disabled])":{background:"#2F67C3"},"&:focus-visible":{_buttonFocusOutline:"#2F67C3",background:"#2F67C3","&:hover":{_buttonFocusOutline:"#2F67C3",background:"#2F67C3"}},"&:disabled":{color:"$grayscaleWhiteAlpha50"},variants:{isLoading:{true:{opacity:"80%"}}}}),Be=(0,l.zo)("div",{display:"inline-flex","& svg":{width:"24px",height:"24px"},paddingRight:"20px",variants:{disabled:{true:{"& svg":{opacity:"50%"}}},isLoading:{true:{"& svg":{opacity:"20%"}}}}}),Me=(0,l.zo)("div",{opacity:"1",lineHeight:"22px",transitionProperty:"opacity",transitionDuration:".2s",variants:{isLoading:{true:{opacity:"20%"}}}}),Re=(0,l.zo)("div",{position:"absolute",left:"50%",transform:"translateX(-50%)",display:"inline-block"}),Fe=(0,i.forwardRef)((function(e,t){var r=e.disabled,n=e.isLoading,a=void 0!==n&&n,o=e.children,i=(0,H.Z)(e,Le);return(0,K.jsxs)($e,ze(ze({},i),{},{ref:t,disabled:r,isLoading:a,children:[(0,K.jsx)(Be,{disabled:r,isLoading:a,children:(0,K.jsx)(De,{})}),a&&(0,K.jsx)(Re,{children:(0,K.jsx)(ge.$,{size:28})}),(0,K.jsx)(Me,{isLoading:a,children:(0,K.jsx)(de.r,{size:"300",children:o})})]}))}));Fe.displayName="GoogleButton";var He,We=r(9938),Ne=(0,l.zo)("div",{display:"flex",flexGrow:1,textAlign:"center",justifyContent:"center",variants:{borders:{true:{"@desktop":{marginLeft:"-12px",paddingLeft:"12px",borderLeft:"1px solid $colors$grayscaleSilver"}}}}}),_e=(0,l.zo)("div",{width:"100%",textAlign:"center","> svg":{display:"block",marginLeft:"auto",marginRight:"auto",width:"60px",height:"60px",marginBottom:"25px"},a:{fontWeight:"600"},"> p":{marginBottom:"24px"},"@desktop":{borderTop:"unset",padding:"unset"},variants:{borders:{true:{borderTop:"1px solid $colors$grayscaleSilver",borderBottom:"1px solid $colors$grayscaleSilver","@desktop":{borderTop:"unset",borderBottom:"unset"}}}}}),Ze=(0,l.zo)("div",{textAlign:"center"}),Ke=function(e){var t=e.headerText,r=e.subHeaderText,n=e.children,a=e.renderCustomCTA,o=e.cta,c=e.ctaClickHandler,s=e.borders,l=e.iconComponent,u=e.css,p=[(0,i.useCallback)((function(){ce.socialSignIn({connection:w.Google})}),[]),(0,i.useCallback)((function(){ce.socialSignIn({connection:w.Apple})}),[])],d=(0,ie.Z)(p,2),g=d[0],h=d[1];return(0,K.jsx)(Ne,{borders:s,children:(0,K.jsxs)(_e,{borders:s,css:u||void 0,children:[l&&(0,K.jsx)(l,{}),t&&(0,K.jsx)($.h4,{variant:"md",tag:"h2",children:t}),r&&"string"===typeof r&&(0,K.jsx)($.nv,{variant:"lg",tag:"p",children:r}),r&&"function"===typeof r&&r(),n,"text"===(null===o||void 0===o?void 0:o.type)&&(0,K.jsx)(Ze,{css:{marginTop:n?"24px":"0px"},children:(0,K.jsx)(X,{href:o.href||"",onClick:c,children:o.copy})}),"social-google"===(null===o||void 0===o?void 0:o.type)&&(0,K.jsx)(Ze,{css:{marginTop:"12px"},children:(0,K.jsx)(Fe,{onClick:function(e){c&&c(e),g()},children:o.copy})}),"social-apple"===(null===o||void 0===o?void 0:o.type)&&(0,K.jsx)(Ze,{css:{marginTop:"12px"},children:(0,K.jsx)(Pe,{onClick:function(e){c&&c(e),h()},children:o.copy})}),o&&"text"!==(null===o||void 0===o?void 0:o.type)&&!(null===o||void 0===o||!o.href)&&(0,K.jsx)(Ze,{css:{marginTop:n?"12px":"0px"},children:(0,K.jsx)(We.z,{color:"clear",href:o.href,onClick:c,fullWidth:!0,children:o.copy})}),a&&(0,K.jsx)(Ze,{css:{marginTop:n?"24px":"0px"},children:a})]})})},Ye=["title","titleId"];function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ve(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Ge,Xe=function(e){var t=e.title,r=e.titleId,n=Ve(e,Ye);return i.createElement("svg",Ue({width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},n),t?i.createElement("title",{id:r},t):null,He||(He=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.26 1a.75.75 0 00-.743.757l-.005 3.058c-1.943-2.18-4.747-3.554-7.87-3.554-5.891 0-10.638 4.883-10.638 10.87 0 5.986 4.747 10.868 10.639 10.868 3.723 0 6.992-1.953 8.89-4.897a.75.75 0 00-1.26-.813c-1.64 2.543-4.448 4.21-7.63 4.21-5.031 0-9.14-4.178-9.14-9.369 0-5.19 4.109-9.369 9.14-9.369 2.759 0 5.236 1.254 6.915 3.245l-3.203-.007a.75.75 0 00-.743.757c0 .42.33.76.74.76l4.895.01a.726.726 0 00.43-.14.763.763 0 00.314-.617L22 1.759A.75.75 0 0021.26 1z",fill:"#676F78"})))},Je=r(343),Qe=(0,l.F4)({"0%":{maxHeight:"0"},"60%":{maxHeight:"800px"},"100%":{maxHeight:"800px"}}),qe=(0,l.F4)({"0%":{opacity:0},"60%":{opacity:0},"100%":{opacity:1}}),et=(0,l.zo)("div",{justifyContent:"center",marginTop:"24px",width:"100%",display:"none",flexDirection:"column",alignItems:"center",border:"1px solid ".concat(u.O.grayscaleSilver),borderRadius:"12px",padding:"12px",backgroundColor:"white",marginLeft:"auto",marginRight:"auto",animation:".4s ".concat(Qe," 1 normal forwards ease-in"),"@tablet":{maxWidth:"300px"},"div, label":{animation:".4s ".concat(qe," 1 normal forwards ease-in")},variants:{visible:{true:{display:"flex"}}}}),tt=(0,l.zo)("div",{display:"flex",marginBottom:"12px",backgroundColor:"white",borderRadius:"6px",padding:"8px",img:{marginRight:"16px",width:"150px",height:"50px"}}),rt=(0,l.zo)("button",{border:"none",backgroundColor:"white",display:"flex",flexDirection:"column",paddingTop:"6px",alignItems:"center",justifyContent:"center",marginRight:"8px",svg:{width:"18px",height:"18px"}}),nt=function(e){var t=e.visible,r=e.isCodeChallenge,n=e.imgSrc,a=e.onClickReload,o=e.inputValue,i=e.onInputChange,c=e.formIdPrefix,s=e.error;return(0,K.jsxs)(et,{visible:t,children:[(0,K.jsxs)(tt,{children:[(0,K.jsx)("img",{src:n||"",alt:"captcha challenge"}),(0,K.jsxs)(rt,{"aria-label":"Reload Security Challenge Image",type:"button",onClick:function(e){e.preventDefault(),a()},children:[(0,K.jsx)(Xe,{}),(0,K.jsx)($.nv,{variant:"xs",tag:"p",children:"Reload"})]})]}),(0,K.jsx)(Je.y,{id:"".concat(c,"-captcha-input"),fieldLabel:r?"Enter the code shown above":"Solve the formula shown above",type:"text",onChange:i,value:o,error:!!s,errorMessage:s||""})]})},at={padding:"0 0",textAlign:"center","h2+p":{fontSize:"16px",lineHeight:"26px","@desktop":{fontSize:"18px",lineHeight:"28px"}},svg:{marginTop:"52px","@desktop":{marginTop:"0"}},"svg, circle, path":{fill:"$coreBluesBlue"}},ot=function(e){var t=e.email,r=e.clickBackToSignIn,n=e.submitCallback;!function(e,t){var r=(0,i.useState)(v.Initial),n=r[0],a=r[1],o=(0,i.useState)(""),c=o[0],s=o[1],l=(0,i.useRef)(n);(0,i.useEffect)((function(){e&&function(){var t=(0,b.Z)(y().mark((function t(){var r,n;return y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(v.Initial),s(""),a(v.InProgress),t.prev=2,t.next=5,z.passwordlessStart(e);case 5:r=t.sent,n=r.error,a(n?v.Error:v.Success),n&&s(n),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(2),s("Oops! Something went wrong, please try logging in again."),a(v.Error),console.warn(t.t0);case 16:case"end":return t.stop()}}),t,null,[[2,11]])})));return function(){return t.apply(this,arguments)}}()()}),[e]),(0,i.useEffect)((function(){t&&(l.current!==n&&t(n),l.current=n)}),[n,t])}(t,n);var a=(0,c.r)().trackEvent,o=B.sW.passwordless,l=o.headerText,u=o.subHeaderText,p=o.cta;return(0,K.jsx)(Ke,{css:at,iconComponent:function(){return(0,K.jsx)(h.Z,{width:"60",height:"60"})},headerText:l,subHeaderText:function(){return(0,K.jsxs)($.nv,{variant:"lg",tag:"p",children:[u," ",(0,K.jsx)("strong",{"data-testid":"passwordless-login-link-email",children:t}),"."]})},renderCustomCTA:(0,K.jsxs)(K.Fragment,{children:["Didn't get an email?",(0,K.jsx)(f.h,{href:p.href,onClick:function(e){e.preventDefault(),a({action:s.ld.ClickTryAnotherWay,label:s.YX.ClickTryAnotherWay}),r(e)},children:"".concat(p.copy,".")})]})})},it=["title","titleId"];function ct(){return(ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function st(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var lt=function(e){var t=e.title,r=e.titleId,n=st(e,it);return i.createElement("svg",ct({width:60,height:60,viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-labelledby":r},n),t?i.createElement("title",{id:r},t):null,Ge||(Ge=i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.572 9.118l22.403 37.338c1.2 2-.24 4.544-2.572 4.544H7.597c-2.332 0-3.772-2.544-2.572-4.544L27.427 9.118c1.166-1.942 3.98-1.942 5.145 0zm-7.717-1.543c2.33-3.884 7.96-3.884 10.29 0l22.403 37.338c2.4 4-.481 9.087-5.145 9.087H7.597c-4.664 0-7.544-5.088-5.145-9.087L24.855 7.575zM30 18.5a1.5 1.5 0 011.5 1.5v17.5a1.5 1.5 0 01-3 0V20a1.5 1.5 0 011.5-1.5zM32 43a2 2 0 10-4 0 2 2 0 004 0z",fill:"#676F78"})))},ut={padding:"47px 0","@desktop":{padding:"0 0"},textAlign:"center","h2+p":{"@desktop":{fontSize:"18px",lineHeight:"28px"}},svg:{marginBottom:"30px"},"svg, circle, path":{fill:"$grayscaleStone"}},pt=function(e){var t=e.clickBackToSignIn,r=e.errorKey,n=B.sW[r],a=n.headerText,o=n.subHeaderText,i=n.cta;return(0,K.jsx)(Ke,{css:ut,iconComponent:function(){return(0,K.jsx)(lt,{width:"60",height:"60"})},headerText:a,subHeaderText:o,cta:i,ctaClickHandler:function(e){e.preventDefault(),t(e)}})},dt=r(9440),gt=r(9126),ht=["children","disabled","startIcon","endIcon","color","shape","size"];function ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function bt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ft(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var mt=(0,i.forwardRef)((function(e,t){var r=e.children,n=e.disabled,a=e.startIcon,o=e.endIcon,i=e.color,c=void 0===i?"blue":i,s=e.shape,l=void 0===s?"pill":s,u=e.size,p=void 0===u?"large":u,d=(0,H.Z)(e,ht);return(0,K.jsxs)(N,bt(bt({},d),{},{ref:t,color:c,shape:l,size:p,disabled:n,children:[a&&(0,K.jsx)(_,{position:"start",children:a}),(0,K.jsx)($.J3,{variant:"small"===p?"sm":"md",children:r}),o&&(0,K.jsx)(_,{position:"end",children:o})]}))}));mt.displayName="Button";var yt=r(5999),vt=new A;function xt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function wt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xt(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var kt=(0,l.F4)({from:{opacity:"0"},to:{opacity:"1"}}),jt=(0,l.zo)("div",{marginBottom:"12px",animation:".3s ".concat(kt," 1 normal forwards ease-in")}),Ot=function(e){var t=e.error,r=function(e,t,r){var n=e.policyMap,a=t&&"string"===typeof t?t:"default",o=n.find((function(e){var t=e.match;return a.includes(t)}))||n[n.length-1],i=o.copy,c=o.ctaType,s={copy:i};return e.ctaTypes&&c&&(s.cta=wt(wt(wt({},e.ctaTypes[c]),r||{}),{},{copy:e.ctaTypes[c].copy})),s}(e.errorPolicyMap,t).copy;return(0,K.jsx)(jt,{children:(0,K.jsx)(F.j,{type:"warning",textSize:"large",children:r})})},St=function(e){return!(e&&e.length>0)},Ct={email:function(e){return St(e)?"Email address must not be blank.":/\S+@\S+\.\S+/.test(e)?null:"Email address must be valid."},password:function(e){return St(e)?"Password must not be blank.":null}},Pt=["children","href","startIcon","endIcon","color","shape","size"];function Et(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Et(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var It=(0,l.zo)("a",N);(0,i.forwardRef)((function(e,t){var r=e.children,n=e.href,a=e.startIcon,o=e.endIcon,i=e.color,c=void 0===i?"blue":i,s=e.shape,l=void 0===s?"pill":s,u=e.size,p=void 0===u?"small":u,d=(0,H.Z)(e,Pt);return(0,K.jsxs)(It,Tt(Tt({},d),{},{ref:t,href:n,color:c,shape:l,size:p,children:[a&&(0,K.jsx)(_,{position:"start",children:a}),(0,K.jsx)(W.x.UIButton,{color:"inherit",size:"small"===p?"small":"standard",children:r}),o&&(0,K.jsx)(_,{position:"end",children:o})]}))})).displayName="ButtonLink";(0,l.zo)("div",{display:"flex",flexGrow:1,textAlign:"center",justifyContent:"center",variants:{borders:{true:{"@desktop":{marginLeft:"-12px",paddingLeft:"12px",borderLeft:"1px solid $colors$grayscaleSilver"}}}}}),(0,l.zo)("div",{width:"100%",textAlign:"left",padding:"48px 0","> h2":{marginBottom:"4px"},"> p":{marginBottom:"24px"},"@desktop":{borderTop:"unset",textAlign:"center",padding:"unset"},variants:{borders:{true:{borderTop:"1px solid $colors$grayscaleSilver",borderBottom:"1px solid $colors$grayscaleSilver","@desktop":{borderTop:"unset",borderBottom:"unset"}}}}}),(0,l.zo)("div",{textAlign:"center"});function Dt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Lt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Dt(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var At={fontSize:yt.c.mobile.uiParagraphLarge.fontSize,fontWeight:yt.c.mobile.uiParagraphLarge.fontWeight,fontFamily:yt.c.mobile.uiParagraphLarge.fontFamily,color:u.O.grayscaleCharcoal,"-webkit-text-fill-color":u.O.grayscaleCharcoal},zt=(0,l.zo)("div",{textAlign:"left"}),$t=(0,l.F4)({from:{},to:{}}),Bt=(0,l.zo)("div",{transition:"$productiveP2S",transitionProperty:"margin-bottom",marginBottom:"12px",overflow:"hidden",padding:".5px 0",height:"61px",variants:{error:{true:{height:"82px"}},isAutoFill:{true:{"input:-webkit-autofill":{transform:"scale(1.1)",transformOrigin:"top left",opacity:"0.83"}}}},"input, input:hover, input:focus, input:active":Lt(Lt({},At),{},{filter:"none","&:-webkit-autofill::first-line":Lt({},At),"&:-webkit-autofill, &:-webkit-autofill:hover, &:-webkit-autofill:focus, &:-webkit-autofill:active":Lt(Lt({},At),{},{animationName:$t,boxShadow:"0 0 0 1000px $grayscaleWhite inset",transition:"background-color 1s linear 5000s",backgroundClip:"content-box"})}),"input:autofill":{background:"transparent"}}),Mt=(0,l.zo)("div",{display:"flex",justifyContent:"center",marginTop:"24px"}),Rt=function(e){var t=e.submitCallback,r=e.validationRequired,n=void 0!==r&&r,a=e.errorPolicyMap,o=e.prepopulateValue,c=e.initialError,s=(0,i.useState)({touched:{email:!1},values:{email:o||""},errors:{email:void 0},submitBlocked:!1}),l=s[0],u=s[1],p=(0,i.useState)({email:""}),d=p[0],g=p[1],h=(0,i.useState)(!!o),f=h[0],m=h[1],v=(0,i.useState)(!1),x=v[0],w=v[1],j=!l.values.email,O=f&&j,S=function(e,t){var r=e.email,n=(0,i.useState)(!1),a=n[0],o=n[1],c=(0,i.useState)(""),s=c[0],l=c[1],u=(0,i.useState)(!1),p=u[0],d=u[1],g=(0,i.useRef)({inProgress:a,submitSuccess:p,submitError:s});return(0,i.useEffect)((function(){r&&function(){var e=(0,b.Z)(y().mark((function e(){var t,n;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!1),l(""),d(!1),o(!0),e.prev=2,e.next=5,vt.changePassword({email:r});case 5:t=e.sent,(n=t.error)?(l(n),o(!1)):d(!0),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),l("Oops! Something went wrong, please try again."),o(!1),console.warn(e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}()()}),[r]),(0,i.useEffect)((function(){t&&(a!==g.current.inProgress&&t({inProgress:a}),p!==g.current.submitSuccess&&t({submitSuccess:p}),s!==g.current.submitError&&t({submitError:s}),g.current={inProgress:a,submitSuccess:p,submitError:s})}),[a,p,s,t]),[a,s,p]}({email:d.email},t),C=(0,ie.Z)(S,2),P=C[0],E=C[1],T=l.submitBlocked,I=n&&!f&&T||!0===P,D=function(e){var t=e.id,r=e.value,n=l.errors,a=function(e){return Ct[e]||null}(t);if(a){var o=Lt(Lt({},n),{},(0,k.Z)({},t,a(r)||void 0)),i=Object.keys(o).some((function(e){return!!o[e]}));u((function(e){return Lt(Lt({},e),{},{errors:o,submitBlocked:i})}))}},L=function(e,t){var r=e.id,n=e.value;u((function(e){return Lt(Lt({},e),{},{values:Lt(Lt({},e.values),{},(0,k.Z)({},r,n))})})),(l.touched[r]&&x||t)&&D({id:r,value:n})},A=function(e){var t=(0,i.useRef)(null);return[(0,i.useCallback)((function(r){t.current&&t.current.removeEventListener&&t.current.removeEventListener("animationstart",e),r&&r.addEventListener("animationstart",e),t.current=r}),[e])]}((function(e){var t=e.animationName,r=e.currentTarget;if(t===$t.name&&r){var n=r,a=n.id,o=n.value;L({id:a,value:o}),m(!0)}})),z=(0,ie.Z)(A,1)[0];return(0,K.jsxs)(zt,{children:[(E||c)&&(0,K.jsx)(Ot,{errorPolicyMap:a,error:c||E}),(0,K.jsxs)("form",{onSubmit:function(e){e.preventDefault(),!f&&I||(w(!0),g({email:l.values.email}),D({id:"email",value:l.values.email}))},action:"#",noValidate:!0,children:[(0,K.jsx)(Bt,{error:!!l.errors.email,isAutoFill:O,children:(0,K.jsx)(Je.y,{id:"email",fieldLabel:"Email address",type:"email",autoComplete:"email",ref:z,onChange:function(e){return function(e,t){var r=e.currentTarget,n=r.id,a=r.value;L({id:n,value:a},t)}(e)},onBlur:function(e){var t=e.target,r=t.id,n=t.value;u((function(e){return Lt(Lt({},e),{},{touched:Lt(Lt({},e.touched),{},(0,k.Z)({},r,!0))})})),D({id:r,value:n})},value:l.values.email,error:!!l.errors.email,errorMessage:l.errors.email,placeholder:f?" ":void 0})}),(0,K.jsx)(Mt,{children:(0,K.jsx)(mt,{disabled:!f&&I,type:"submit",size:"large",children:"Email me instructions"})})]})]})};function Ft(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ht(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ft(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ft(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Wt={"@tablet":{maxWidth:"unset"},"@desktop":{maxWidth:"unset",textAlign:"left"}},Nt=Ht(Ht({},Wt),{},{padding:"0 0"}),_t=Ht(Ht({},Wt),{},{textAlign:"center",padding:"0 0","svg, circle, path":{fill:"$coreBluesBlue"}}),Zt=function(e){var t=e.submitCallback,r=e.isForgotPassword,n=e.clickBackToSignIn,a=e.clickBackToProfile,o=e.changePasswordSuccess,i=e.prepopulateValue,c=e.initialError,s=B.sW,l=s.forgotPassword,u=s.changePassword,p=r?l:u,d=p.headerText,g=p.subHeaderText,f=p.cta,b=p.successConfig;return o?(0,K.jsx)(Ke,{headerText:b.headerText,subHeaderText:b.subHeaderText,cta:b.cta,css:_t,iconComponent:function(){return(0,K.jsx)(h.Z,{width:"60",height:"60"})},ctaClickHandler:function(e){e.preventDefault(),r?n(e):(a(),window.location.href=b.cta.href)},borders:!1}):(0,K.jsx)(Ke,{headerText:d,subHeaderText:g,cta:f,ctaClickHandler:function(e){e.preventDefault(),r?n(e):(a(),window.location.href=f.href)},borders:!1,css:Nt,children:(0,K.jsx)(Rt,{initialError:c,submitCallback:t,errorPolicyMap:B.id,prepopulateValue:i,validationRequired:!0})})},Kt=(0,l.zo)("div",{variants:{socialEnabled:{true:{marginTop:"12px"}}}}),Yt=function(){var e=ee(),t=e.isGoogleSignInEnabled,r=e.isAppleSignInEnabled,n=B.sW.guestCheckout,a=n.headerText,o=n.subHeaderText,i=n.cta,l=(0,c.r)().trackEvent,u=!!t||!!r;return(0,K.jsx)(Ke,{headerText:a,subHeaderText:u?"":o,cta:i,ctaClickHandler:function(){return l({action:s.ld.ClickGuestCheckoutLink,label:s.YX.ClickGuestCheckoutLink})},children:(0,K.jsxs)(Kt,{socialEnabled:!!t||!!r,children:[!!t&&(0,K.jsx)(Ke,{cta:{type:"social-google",copy:"Sign in with Google"},ctaClickHandler:function(){return l({action:s.ld.ClickSignInWithGoogle,label:s.YX.ClickSignInWithGoogle})}}),!!r&&(0,K.jsx)(Ke,{cta:{type:"social-apple",copy:"Sign in with Apple"},ctaClickHandler:function(){return l({action:s.ld.ClickSignInWithApple,label:s.YX.ClickSignInWithApple})}})]})})},Ut=new A({authMethod:"login"});function Vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Gt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Xt={fontSize:yt.c.mobile.uiParagraphLarge.fontSize,fontWeight:yt.c.mobile.uiParagraphLarge.fontWeight,fontFamily:yt.c.mobile.uiParagraphLarge.fontFamily,color:u.O.grayscaleCharcoal,"-webkit-text-fill-color":u.O.grayscaleCharcoal},Jt=(0,l.zo)("div",{textAlign:"left"}),Qt=(0,l.F4)({from:{},to:{}}),qt=(0,l.zo)("div",{transition:"$productiveP2S",transitionProperty:"margin-bottom",marginBottom:"12px",overflow:"hidden",padding:".5px 0",height:"61px",variants:{error:{true:{height:"82px"}},isAutoFill:{true:{"input:-webkit-autofill":{transform:"scale(1.1)",transformOrigin:"top left",opacity:"0.83"}}},isHiddenAutofill:{true:{"@supports (-webkit-touch-callout: none)":{input:{letterSpacing:"3px",top:"27px"}},"@supports not (-webkit-touch-callout: none)":{"input, input:-webkit-autofill":{opacity:"0.9",transform:"scale(2.5) translate(-.25%, -37%)",transformOrigin:"top left",fontFamily:"Verdana !important",letterSpacing:"0.03em !important",width:"160px"}}}},isHidden:{true:{input:{letterSpacing:"3px",top:"27px"},"@supports not (-webkit-touch-callout: none)":{"input, input:-webkit-autofill, input:-webkit-autofill::first-line":{marginLeft:"-2px",marginTop:"-2px",fontFamily:"Verdana !important",fontSize:"23px !important"}}}}},"input, input:hover, input:focus, input:active":Gt(Gt({},Xt),{},{filter:"none","&:-webkit-autofill::first-line":Gt({},Xt),"&:-webkit-autofill, &:-webkit-autofill:hover, &:-webkit-autofill:focus, &:-webkit-autofill:active":Gt(Gt({},Xt),{},{animationName:Qt,boxShadow:"0 0 0 1000px $grayscaleWhite inset",transition:"background-color 1s linear 5000s",backgroundClip:"content-box"})}),"input:autofill":{background:"transparent"}}),er=(0,l.zo)("div",{display:"flex",justifyContent:"center",marginTop:"24px","@media (hover: none), (hover: on-demand)":{"button:hover:not([disabled])":{background:"$coreBluesBlue"}}}),tr=(0,l.zo)("button",{position:"absolute",right:0,top:0,bottom:0,margin:"auto",background:"0 0",border:"none",padding:"0 16px",display:"none","-webkit-tap-highlight-color":"transparent",span:{color:"$coreBluesBlue"},variants:{visible:{true:{display:"block"}}}}),rr=function(e){var t=(0,i.useRef)(null);return[(0,i.useCallback)((function(r){t.current&&t.current.removeEventListener&&t.current.removeEventListener("animationstart",e),r&&r.addEventListener("animationstart",e),t.current=r}),[e])]},nr=function(e){var t=e.submitCallback,r=e.validationRequired,n=void 0!==r&&r,a=e.errorPolicyMap,o=e.errorMessageCta,c=e.updateEmailValue,s=(0,i.useState)({touched:{email:!1,password:!1},values:{email:"",password:""},errors:{email:void 0,password:void 0},submitBlocked:!0}),l=s[0],u=s[1],p=(0,i.useState)(!1),d=p[0],g=p[1],h=(0,i.useState)({email:"",password:"",captcha:""}),f=h[0],m=h[1],v=(0,i.useState)(!1),x=v[0],w=v[1],j=!l.values.email&&!l.values.password,O=x&&j,S=f.email,C=f.password,P=f.captcha,E=(0,i.useState)(""),T=E[0],I=E[1],D=(0,i.useState)(null),L=D[0],A=D[1],z=function(e,t){var r=e.email,n=e.password,a=e.captcha,o=(0,i.useState)(!1),c=o[0],s=o[1],l=(0,i.useState)(""),u=l[0],p=l[1],d=(0,i.useState)(!1),g=d[0],h=d[1],f=(0,i.useState)({imageSrc:"",isCode:!0}),m=f[0],v=f[1],x=(0,i.useRef)(Ut),w=(0,i.useRef)({inProgress:c,loginSuccess:g,loginError:u}),k=function(){var e;x&&null!==x&&void 0!==x&&null!==(e=x.current)&&void 0!==e&&e.reloadCaptcha&&x.current.reloadCaptcha()};return(0,i.useEffect)((function(){r&&n&&function(){var e=(0,b.Z)(y().mark((function e(){var t,o;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!1),p(""),h(!1),s(!0),e.prev=2,e.next=5,x.current.login({email:r,password:n,captcha:a});case 5:t=e.sent,(o=t.error)?(k(),p(o),s(!1)):h(!0),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(2),k(),p("Oops! Something went wrong, please try logging in again."),s(!1),console.warn(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}()()}),[r,n,a]),(0,i.useEffect)((function(){t&&(c!==w.current.inProgress&&t({inProgress:c}),g!==w.current.loginSuccess&&t({loginSuccess:g}),u!==w.current.loginError&&t({loginError:u}),w.current={inProgress:c,loginSuccess:g,loginError:u})}),[c,g,u,t]),(0,i.useEffect)((function(){x.current.setCaptchaDOMListener((function(e){var t=e.imgSrc,r=e.isCode;t!==m.imageSrc&&v({imageSrc:t||"",isCode:r})}))}),[]),[c,u,g,m,k]}({email:S,password:C,captcha:P},(function(e){I(""),t(e)})),B=(0,ie.Z)(z,5),M=B[0],R=B[1],F=B[3],H=B[4],W=l.submitBlocked,N=n&&!x&&W||!0===M,_=function(e){var t=e.id,r=e.value,n=l.errors,a=function(e){return oe[e]||null}(t);if(a){var o=Gt(Gt({},n),{},(0,k.Z)({},t,a(r)||void 0)),i=Object.keys(o).some((function(e){return!!o[e]}));u((function(e){return Gt(Gt({},e),{},{errors:o,submitBlocked:i})}))}},Z=function(e,t){var r=e.id,n=e.value;u((function(e){return Gt(Gt({},e),{},{values:Gt(Gt({},e.values),{},(0,k.Z)({},r,n))})})),"email"===r&&c(n),(l.touched[r]||t)&&_({id:r,value:n})},Y=function(e,t){var r=e.currentTarget,n=r.id,a=r.value;Z({id:n,value:a},t)},U=function(e){var t=e.target,r=t.id,n=t.value;u((function(e){return Gt(Gt({},e),{},{touched:Gt(Gt({},e.touched),{},(0,k.Z)({},r,!0))})})),_({id:r,value:n})},V=function(e){var t=e.animationName,r=e.currentTarget;if(t===Qt.name&&r){var n=r,a=n.id,o=n.value;Z({id:a,value:o}),w(!0)}},G=rr(V),X=(0,ie.Z)(G,1)[0],J=rr(V),Q=(0,ie.Z)(J,1)[0],q=function(){_({id:"email",value:l.values.email}),_({id:"password",value:l.values.password})};return(0,K.jsxs)(Jt,{children:[R&&(0,K.jsx)(ne,{errorPolicyMap:a,error:R,cta:o}),(0,K.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),F.imageSrc&&!T)return A("Security challenge must not be blank."),void q();!x&&N||(m({email:l.values.email,password:l.values.password,captcha:T}),q())},action:"#",noValidate:!0,children:[(0,K.jsx)(qt,{error:!!l.errors.email,isAutoFill:O,children:(0,K.jsx)(Je.y,{id:"email",fieldLabel:"Email address",type:"email",autoComplete:"email",ref:X,onChange:function(e){return Y(e)},onBlur:U,value:l.values.email,error:!!l.errors.email,errorMessage:l.errors.email,placeholder:x?" ":void 0})}),(0,K.jsx)(qt,{error:!!l.errors.password,isHidden:!O&&!d,isHiddenAutofill:O&&!d,children:(0,K.jsx)(Je.y,{id:"password",fieldLabel:"Password",type:d?"text":"password",autoComplete:"password",ref:Q,onChange:function(e){return Y(e)},rightContent:(0,K.jsx)(tr,{type:"button",onClick:function(e){e.preventDefault(),g(!d)},visible:!!l.values.password,children:(0,K.jsx)($.J3,{variant:"xs",children:d?"Hide":"Show"})}),onBlur:U,value:l.values.password,error:!!l.errors.password,errorMessage:l.errors.password,placeholder:x?" ":void 0})}),(0,K.jsx)(nt,{visible:!!F.imageSrc,isCodeChallenge:F.isCode,imgSrc:F.imageSrc,onClickReload:H,inputValue:T,onInputChange:function(e){I(e.target.value)},error:L,formIdPrefix:"signup"}),(0,K.jsx)(er,{children:(0,K.jsx)(We.z,{disabled:!x&&N,buttonType:"submit",fullWidth:!0,children:"Sign in"})})]})]})};function ar(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function or(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ar(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ar(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ir=function(e){var t=e.borders,r=e.socialEnabled,n=e.clickSignInLinkHandler,a=B.sW.signInLinkPanel,o=a.headerText,i=a.subHeaderText,c=a.cta;return(0,K.jsx)(Ke,{headerText:o,subHeaderText:i,cta:c,ctaClickHandler:function(e){r&&n(e)},borders:t})},cr=(0,l.zo)("div",{variants:{socialEnabled:{true:{marginTop:"24px"}}}}),sr=(0,l.zo)("div",{variants:{socialEnabled:{true:{marginTop:"12px"}}}}),lr=function(e){var t=e.passwordResetLink,r=e.errorBannerCTAOnClick,n=e.clickPasswordReset,a=e.submitCallback,o=e.borders,i=e.updateEmailValue,l=e.clickSignInLinkHandler,u=e.showSignInForm,p=void 0===u||u,d=ee(),g=d.isPasswordlessLinkEnabled,h=d.isGoogleSignInEnabled,f=d.isAppleSignInEnabled,b=B.sW.signIn,m=b.headerText,y=b.subHeaderText,v=b.cta,x=(0,c.r)().trackEvent,w=!o&&(!!h||!!f),k=o&&!h&&!f,j=o&&(!!h||!!f);return p?(0,K.jsxs)(Ke,{headerText:j?"":m,subHeaderText:w||j?"":y,cta:or(or({},v),{},{href:t}),ctaClickHandler:function(e){x({action:s.ld.ClickForgotPassword,label:s.YX.ClickForgotPassword}),n(e)},borders:k,children:[w&&(0,K.jsxs)(sr,{socialEnabled:w,children:[!!h&&(0,K.jsx)(Ke,{cta:{type:"social-google",copy:"Sign in with Google"},ctaClickHandler:function(){return x({action:s.ld.ClickSignInWithGoogle,label:s.YX.ClickSignInWithGoogle})}}),!!f&&(0,K.jsx)(Ke,{cta:{type:"social-apple",copy:"Sign in with Apple"},ctaClickHandler:function(){return x({action:s.ld.ClickSignInWithApple,label:s.YX.ClickSignInWithApple})}})]}),(0,K.jsx)(cr,{socialEnabled:w,children:(0,K.jsx)(nr,{submitCallback:a,errorPolicyMap:B.px,errorMessageCta:{copy:B.TJ.J,href:g?"/":t,onClick:function(e){x({action:g?s.ld.ClickPasswordlessLogin:s.ld.ClickResetPassword,label:g?s.YX.ClickPasswordlessLogin:s.YX.ClickResetPassword}),r&&r(e)}},updateEmailValue:i,validationRequired:!0})})]}):(0,K.jsx)(ir,{borders:!1,socialEnabled:!!h&&!!f,clickSignInLinkHandler:l})},ur=new A({authMethod:"signup"});function pr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var gr=(0,l.F4)({from:{opacity:"0"},to:{opacity:"1"}}),hr=(0,l.zo)("div",{marginBottom:"12px",animation:".3s ".concat(gr," 1 normal forwards ease-in")}),fr=function(e){var t=e.error,r=e.cta,n=function(e,t,r){var n=e.policyMap,a=t&&"string"===typeof t?t:"default",o=n.find((function(e){var t=e.match;return a.includes(t)}))||n[n.length-1],i=o.copy,c=o.ctaType;return{copy:i,cta:dr(dr(dr({},e.ctaTypes[c]),r||{}),{},{copy:e.ctaTypes[c].copy})}}(e.errorPolicyMap,t,r),a=n.copy,o=n.cta;return(0,K.jsx)(hr,{children:(0,K.jsxs)(F.j,{type:"warning",textSize:"large",children:[a,o&&(0,K.jsx)(X,{href:o.href||"",onClick:o.onClick,children:o.copy})]})})},br=function(e){return!(e&&e.length>0)},mr={signupEmail:function(e){return br(e)?"Email address must not be blank.":/\S+@\S+\.\S+/.test(e)?null:"Email address must be valid."},signupPassword:function(e){return br(e)?"Password must not be blank.":e.length<8?"Password must be at least 8 characters in length.":null},fullName:function(e){if(br(e))return"First and last name must not be blank.";var t=function(e){if(e&&"string"===typeof e){var t=e.trim().replace(/\s+/g," ").split(" ");return{firstName:t[0],lastName:t.slice(1).join(" ")}}return{firstName:null,lastName:null}}(e);return t.firstName&&!t.lastName?"Last name is required":null}},yr=((0,l.zo)("div",{display:"flex",flexGrow:1,textAlign:"center",justifyContent:"center",variants:{borders:{true:{"@desktop":{marginLeft:"-12px",paddingLeft:"12px",borderLeft:"1px solid $colors$grayscaleSilver"}}}}}),(0,l.zo)("div",{width:"100%",textAlign:"left",padding:"48px 0","> svg":{display:"block",marginLeft:"auto",marginRight:"auto",width:"60px",height:"60px",marginBottom:"25px"},"> h2":{marginBottom:"4px"},"> p":{marginBottom:"24px"},"@desktop":{borderTop:"unset",textAlign:"center",padding:"unset"},variants:{borders:{true:{borderTop:"1px solid $colors$grayscaleSilver",borderBottom:"1px solid $colors$grayscaleSilver","@desktop":{borderTop:"unset",borderBottom:"unset"}}}}}),(0,l.zo)("div",{textAlign:"center"}),(0,l.F4)({"0%":{maxHeight:"0"},"60%":{maxHeight:"800px"},"100%":{maxHeight:"800px"}})),vr=(0,l.F4)({"0%":{opacity:0},"60%":{opacity:0},"100%":{opacity:1}}),xr=(0,l.zo)("div",{justifyContent:"center",marginTop:"24px",width:"100%",display:"none",flexDirection:"column",alignItems:"center",border:"1px solid ".concat(u.O.grayscaleSilver),borderRadius:"12px",padding:"12px",backgroundColor:"white",marginLeft:"auto",marginRight:"auto",animation:".4s ".concat(yr," 1 normal forwards ease-in"),"@tablet":{maxWidth:"300px"},"div, label":{animation:".4s ".concat(vr," 1 normal forwards ease-in")},variants:{visible:{true:{display:"flex"}}}}),wr=(0,l.zo)("div",{display:"flex",marginBottom:"12px",backgroundColor:"white",borderRadius:"6px",padding:"8px",img:{marginRight:"16px",width:"150px",height:"50px"}}),kr=(0,l.zo)("button",{border:"none",backgroundColor:"white",display:"flex",flexDirection:"column",paddingTop:"6px",alignItems:"center",justifyContent:"center",marginRight:"8px",svg:{width:"18px",height:"18px"}}),jr=function(e){var t=e.visible,r=e.isCodeChallenge,n=e.imgSrc,a=e.onClickReload,o=e.inputValue,i=e.onInputChange,c=e.formIdPrefix,s=e.error;return(0,K.jsxs)(xr,{visible:t,children:[(0,K.jsxs)(wr,{children:[(0,K.jsx)("img",{src:n||"",alt:"captcha challenge"}),(0,K.jsxs)(kr,{"aria-label":"Reload Security Challenge Image",type:"button",onClick:function(e){e.preventDefault(),a()},children:[(0,K.jsx)(Xe,{}),(0,K.jsx)($.nv,{variant:"xs",tag:"p",children:"Reload"})]})]}),(0,K.jsx)(Je.y,{id:"".concat(c,"-captcha-input"),fieldLabel:r?"Enter the code shown above":"Solve the formula shown above",type:"text",onChange:i,value:o,error:!!s,errorMessage:s||""})]})};function Or(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Sr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Or(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Or(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Cr={fontSize:yt.c.mobile.uiParagraphLarge.fontSize,fontWeight:yt.c.mobile.uiParagraphLarge.fontWeight,fontFamily:yt.c.mobile.uiParagraphLarge.fontFamily,color:u.O.grayscaleCharcoal,"-webkit-text-fill-color":u.O.grayscaleCharcoal},Pr=(0,l.zo)("div",{textAlign:"left"}),Er=(0,l.F4)({from:{},to:{}}),Tr=(0,l.zo)("div",{transition:"$productiveP2S",transitionProperty:"margin-bottom",marginBottom:"12px",overflow:"hidden",padding:".5px 0",height:"61px",variants:{error:{true:{height:"82px"}},isAutoFill:{true:{"input:-webkit-autofill":{transform:"scale(1.1)",transformOrigin:"top left",opacity:"0.83"}}},isHiddenAutofill:{true:{"@supports (-webkit-touch-callout: none)":{input:{letterSpacing:"3px",top:"27px"}},"@supports not (-webkit-touch-callout: none)":{"input, input:-webkit-autofill":{opacity:"0.9",transform:"scale(2.5) translate(-.25%, -37%)",transformOrigin:"top left",fontFamily:"Verdana !important",letterSpacing:"0.03em !important",width:"160px"}}}},isHidden:{true:{input:{letterSpacing:"3px",top:"27px"},"@supports not (-webkit-touch-callout: none)":{"input, input:-webkit-autofill, input:-webkit-autofill::first-line":{marginLeft:"-2px",marginTop:"-2px",fontFamily:"Verdana !important",fontSize:"23px !important"}}}}},"input, input:hover, input:focus, input:active":Sr(Sr({},Cr),{},{filter:"none","&:-webkit-autofill::first-line":Sr({},Cr),"&:-webkit-autofill, &:-webkit-autofill:hover, &:-webkit-autofill:focus, &:-webkit-autofill:active":Sr(Sr({},Cr),{},{animationName:Er,boxShadow:"0 0 0 1000px $grayscaleWhite inset",transition:"background-color 1s linear 5000s",backgroundClip:"content-box"})}),"input:autofill":{background:"transparent"}}),Ir=(0,l.zo)("div",{display:"flex",justifyContent:"center",marginTop:"24px"}),Dr=(0,l.zo)("button",{position:"absolute",right:0,top:0,bottom:0,margin:"auto",background:"0 0",border:"none",padding:"0 16px",display:"none","-webkit-tap-highlight-color":"transparent",span:{color:"$coreBluesBlue"},variants:{visible:{true:{display:"block"}}}}),Lr=function(e){var t=(0,i.useRef)(null);return[(0,i.useCallback)((function(r){t.current&&t.current.removeEventListener&&t.current.removeEventListener("animationstart",e),r&&r.addEventListener("animationstart",e),t.current=r}),[e])]},Ar=function(e){var t=e.submitCallback,r=e.validationRequired,n=void 0!==r&&r,a=e.errorPolicyMap,o=e.errorMessageCta,c=e.submitFormCta,s=e.updateEmailValue,l=e.country,u=(0,i.useState)({touched:{fullName:!1,signupEmail:!1,signupPassword:!1},values:{fullName:"",signupEmail:"",signupPassword:""},errors:{fullName:void 0,signupEmail:void 0,signupPassword:void 0},submitBlocked:!0}),p=u[0],d=u[1],g=(0,i.useState)(!1),h=g[0],f=g[1],m=(0,i.useState)({firstName:"",lastName:"",signupEmail:"",signupPassword:"",captcha:""}),v=m[0],x=m[1],w=(0,i.useState)(!1),j=w[0],O=w[1],S=!p.values.signupEmail&&!p.values.signupPassword,C=j&&S,P=(0,i.useState)(""),E=P[0],T=P[1],I=(0,i.useState)(null),D=I[0],L=I[1],A=function(e,t){var r=e.email,n=e.password,a=e.firstName,o=e.lastName,c=e.country,s=e.captcha,l=(0,i.useState)(!1),u=l[0],p=l[1],d=(0,i.useState)(""),g=d[0],h=d[1],f=(0,i.useState)(!1),m=f[0],v=f[1],x=(0,i.useState)({imageSrc:"",isCode:!0}),w=x[0],k=x[1],j=(0,i.useRef)({inProgress:u,signupSuccess:m,signupError:g}),O=(0,i.useRef)(ur),S=function(){var e;O&&null!==O&&void 0!==O&&null!==(e=O.current)&&void 0!==e&&e.reloadCaptcha&&O.current.reloadCaptcha()};return(0,i.useEffect)((function(){r&&n&&a&&o&&function(){var e=(0,b.Z)(y().mark((function e(){var t,i;return y().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!1),h(""),v(!1),p(!0),e.prev=2,e.next=5,O.current.signup({email:r,password:n,firstName:a,lastName:o,country:c,captcha:s});case 5:t=e.sent,(i=t.error)?(S(),h(i),p(!1)):v(!0),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(2),S(),h("Oops! Something went wrong, please try signing up again."),p(!1),console.warn(e.t0);case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}()()}),[r,n,a,o]),(0,i.useEffect)((function(){t&&(u!==j.current.inProgress&&t({inProgress:u}),m!==j.current.signupSuccess&&t({signupSuccess:m}),g!==j.current.signupError&&t({signupError:g}),j.current={inProgress:u,signupSuccess:m,signupError:g})}),[u,m,g,t]),(0,i.useEffect)((function(){O.current.setCaptchaDOMListener((function(e){var t=e.imgSrc,r=e.isCode;t!==w.imageSrc&&k({imageSrc:t||"",isCode:r})}))}),[]),{inProgress:u,signupError:g,signupSuccess:m,captchaState:w,reloadCaptcha:S}}({email:v.signupEmail,password:v.signupPassword,firstName:v.firstName,lastName:v.lastName,country:l,captcha:v.captcha},(function(e){T(""),t&&t(e)})),z=A.inProgress,B=A.signupError,M=A.captchaState,R=A.reloadCaptcha,F=p.submitBlocked,H=n&&!j&&F||!0===z,W=function(e){var t=e.id,r=e.value,n=p.errors,a=function(e){return mr[e]||null}(t);if(a){var o=Sr(Sr({},n),{},(0,k.Z)({},t,a(r)||void 0)),i=Object.keys(o).some((function(e){return!!o[e]}));d((function(e){return Sr(Sr({},e),{},{errors:o,submitBlocked:i})}))}},N=function(e,t){var r=e.id,n=e.value;d((function(e){return Sr(Sr({},e),{},{values:Sr(Sr({},e.values),{},(0,k.Z)({},r,n))})})),"signupEmail"===r&&"function"===typeof s&&s(n),(p.touched[r]||t)&&W({id:r,value:n})},_=function(e,t){var r=e.currentTarget,n=r.id,a=r.value;N({id:n,value:a},t)},Z=function(e){var t=e.target,r=t.id,n=t.value;d((function(e){return Sr(Sr({},e),{},{touched:Sr(Sr({},e.touched),{},(0,k.Z)({},r,!0))})})),W({id:r,value:n})},Y=function(e){var t=e.animationName,r=e.currentTarget;if(t===Er.name&&r){var n=r,a=n.id,o=n.value;N({id:a,value:o}),O(!0)}},U=Lr(Y),V=(0,ie.Z)(U,1)[0],G=Lr(Y),X=(0,ie.Z)(G,1)[0],J=Lr(Y),Q=(0,ie.Z)(J,1)[0],q=function(){W({id:"fullName",value:p.values.fullName}),W({id:"signupEmail",value:p.values.signupEmail}),W({id:"signupPassword",value:p.values.signupPassword})};return(0,K.jsxs)(Pr,{children:[B&&(0,K.jsx)(fr,{errorPolicyMap:a,error:B,cta:o}),(0,K.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),null!==M&&void 0!==M&&M.imageSrc&&!E)return L("Security challenge must not be blank."),void q();if(j||!H){var t=function(e){if(e&&"string"===typeof e){var t=e.trim().replace(/\s+/g," ").split(" ");return{fullName:e,firstName:t[0],lastName:t.slice(1).join(" ")}}return{fullName:e,firstName:"",lastName:""}}(p.values.fullName);x({firstName:t.firstName,lastName:t.lastName,signupEmail:p.values.signupEmail,signupPassword:p.values.signupPassword,captcha:E}),q()}},action:"#",noValidate:!0,children:[(0,K.jsx)(Tr,{error:!!p.errors.fullName,isAutoFill:C,children:(0,K.jsx)(Je.y,{id:"fullName",fieldLabel:"First and last name",type:"text",name:"name",ref:V,onChange:function(e){return _(e)},onBlur:Z,value:p.values.fullName,error:!!p.errors.fullName,errorMessage:p.errors.fullName,placeholder:j?" ":void 0,autoComplete:"name"})}),(0,K.jsx)(Tr,{error:!!p.errors.signupEmail,isAutoFill:C,children:(0,K.jsx)(Je.y,{id:"signupEmail",fieldLabel:"Email address",type:"email",name:"new-user[email]",autoComplete:"email",ref:X,onChange:function(e){return _(e)},onBlur:Z,value:p.values.signupEmail,error:!!p.errors.signupEmail,errorMessage:p.errors.signupEmail,placeholder:j?" ":void 0})}),(0,K.jsx)(Tr,{error:!!p.errors.signupPassword,isHidden:!C&&!h,isHiddenAutofill:C&&!h,children:(0,K.jsx)(Je.y,{id:"signupPassword",fieldLabel:"Password",type:h?"text":"password",name:"new-password[password]",ref:Q,autoComplete:"new-password",onChange:function(e){return _(e)},rightContent:(0,K.jsx)(Dr,{type:"button",onClick:function(e){e.preventDefault(),f(!h)},visible:!!p.values.signupPassword,children:(0,K.jsx)($.J3,{variant:"xs",children:h?"Hide":"Show"})}),onBlur:Z,value:p.values.signupPassword,error:!!p.errors.signupPassword,errorMessage:p.errors.signupPassword})}),(0,K.jsx)(jr,{visible:!!M.imageSrc,isCodeChallenge:M.isCode,imgSrc:M.imageSrc,onClickReload:R,inputValue:E,onInputChange:function(e){T(e.target.value)},error:D,formIdPrefix:"signup"}),(0,K.jsx)(Ir,{children:(0,K.jsx)(We.z,{fullWidth:!0,disabled:!j&&H,buttonType:"submit",children:c&&c.copy||"Create account"})})]})]})};function zr(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?zr(Object(r),!0).forEach((function(t){(0,k.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zr(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Br,Mr,Rr=function(e){var t=e.borders,r=e.socialEnabled,n=e.clickSignUpLinkHandler,a=B.sW.signUpLinkPanel,o=a.headerText,i=a.subHeaderText,l=a.cta,u=(0,c.r)().trackEvent;return(0,K.jsx)(Ke,{headerText:r?"":o,subHeaderText:r?"":i,cta:$r($r({},l),{},{href:r?"#":l.href}),ctaClickHandler:function(e){r&&n(e),u({action:s.ld.ClickCreateAccountLink,label:s.YX.ClickCreateAccountLink})},borders:t})},Fr=(0,l.zo)("div",{variants:{socialEnabled:{true:{marginTop:"12px"}}}}),Hr=(0,l.zo)("div",{variants:{socialEnabled:{true:{marginTop:"24px"}}}}),Wr=function(e){var t=e.errorBannerCTAOnClick,r=e.submitCallback,n=e.updateEmailValue,a=e.showSignUpForm,o=e.country,i=e.borders,l=e.clickSignUpLinkHandler,u=ee(),p=u.isGoogleSignInEnabled,d=u.isAppleSignInEnabled,g=B.sW.signUp,h=g.headerText,f=g.subHeaderText,b=g.cta,m=(0,c.r)().trackEvent,y=!!p||!!d,v=i&&!p&&!d;return a?(0,K.jsxs)(Ke,{headerText:h,subHeaderText:y?"":f,borders:v,children:[(0,K.jsxs)(Fr,{socialEnabled:y,children:[!!p&&(0,K.jsx)(Ke,{cta:{type:"social-google",copy:"Sign up with Google"},ctaClickHandler:function(){return m({action:s.ld.ClickSignUpWithGoogle,label:s.YX.ClickSignUpWithGoogle})}}),!!d&&(0,K.jsx)(Ke,{cta:{type:"social-apple",copy:"Sign up with Apple"},ctaClickHandler:function(){return m({action:s.ld.ClickSignUpWithApple,label:s.YX.ClickSignUpWithApple})}})]}),(0,K.jsx)(Hr,{socialEnabled:y,children:(0,K.jsx)(Ar,{submitCallback:r,errorPolicyMap:B.px,submitFormCta:b,errorMessageCta:{copy:B.TJ.J,onClick:function(e){m({action:s.ld.ClickResetPassword,label:s.YX.ClickResetPassword}),t&&t(e)}},updateEmailValue:n,country:o,validationRequired:!0})})]}):(0,K.jsx)(Rr,{borders:v,socialEnabled:y,clickSignUpLinkHandler:l})},Nr=r(4502),_r=(null===(Br=(0,a.default)())||void 0===Br||null===(Mr=Br.publicRuntimeConfig)||void 0===Mr?void 0:Mr.nextPublicRootUrl)||null,Zr=(0,l.zo)("div",{padding:"48px 0",backgroundColor:"$grayscaleSilk",variants:{showChangePassword:{true:{padding:"52px 0","@tablet":{padding:"73px 0"},"@desktop":{padding:"97px 0"}}}}}),Kr=(0,l.zo)("div",{marginTop:"-97px",height:"97px",backgroundColor:"white"}),Yr=(0,l.zo)("div",{marginBottom:"-1000px",height:"1000px",backgroundColor:"white"}),Ur=(0,l.zo)("div",{position:"relative",padding:"48px 0"}),Vr=(0,l.zo)("div",{width:"36px",height:"20px",backgroundColor:u.O.grayscaleSilk,position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",color:u.O.grayscaleStone,span:{display:"block"}}),Gr=function(){return(0,K.jsx)(Vr,{children:(0,K.jsx)(W.x.UIButton,{size:"small",color:"inherit",children:"OR"})})},Xr=function(){var e=(0,i.useState)(_r),t=e[0],r=e[1],a=(0,i.useState)(!1),l=a[0],h=a[1],f=(0,i.useState)(v.Initial),b=f[0],m=f[1],y=(0,i.useState)(x.Initial),w=y[0],k=y[1],j=(0,i.useState)(!1),O=j[0],S=j[1],C=(0,i.useState)(""),P=C[0],E=C[1],T=(0,i.useState)(!1),I=T[0],D=T[1],L=(0,i.useState)(!1),A=L[0],z=L[1],$=(0,i.useState)(!1),B=$[0],M=$[1],R=(0,i.useState)(!1),F=R[0],H=R[1],W=(0,i.useState)(s.$0.LoginPage),N=W[0],_=W[1],Z=(0,p.i)().width,Y=Z&&Z>=1200,U=(0,o.useRouter)(),V=(0,c.r)().trackEvent,G=U.query,X=G.isCheckout,J=G.isForgotPassword,Q=G.isChangePassword,ee=G.expP,te=G.expR,re=G.expPL,ne=G.expG,ae=G.expA,oe=G.expEC,ie=G.changePasswordError,ce=G.userEmail,se=G.country,le=!!ne||!!ae,ue=X?"Checkout Sign-in":"Sign-in";ue=J?"Forgot Password":ue,ue=Q?"Change Password":ue;var pe="/".concat(X?"checkout":"account","/forgot-password"),de=function(e){E(e)},ge=function(e){ee&&(e.preventDefault(),z(!0))},he=function(e){e.preventDefault(),k(x.Passwordless)},fe=function(e){if(e.preventDefault(),b!==v.Initial)return m(v.Initial),void k(x.Initial);var t=O?s.ld.EmailResetInstructionsSuccessBackToSignIn:s.ld.EmailResetInstructionsBackToSignIn,r=O?s.YX.EmailResetInstructionsSuccessBackToSignIn:s.YX.EmailResetInstructionsBackToSignIn,n=J?N:s.$0.AccountPage;V({action:t,label:r,category:n}),z(!1),S(!1)},be=(0,i.useCallback)((function(e){var t=e.inProgress,r=e.loginSuccess,n=e.loginError;t&&(h(t),V({action:s.ld.SubmitLoginForm,label:s.YX.SubmitLoginForm,category:N})),r&&V({action:s.ld.SubmitLoginSuccess,label:s.YX.SubmitLoginSuccess,category:N}),n&&(h(t),V({action:s.ld.SubmitLoginError,label:s.YX.SubmitLoginError,category:N}))}),[N]),me=(0,i.useCallback)((function(e){var t=e.inProgress,r=e.signupSuccess,n=e.signupError;t&&(h(t),V({action:s.ld.SubmitCreateAccountForm,label:s.YX.SubmitCreateAccountForm,category:N})),r&&V({action:s.ld.SubmitCreateAccountSuccess,label:s.YX.SubmitCreateAccountSuccess,category:N}),n&&(h(t),V({action:s.ld.SubmitCreateAccountError,label:s.YX.SubmitCreateAccountError,category:N}))}),[N]),ye=(0,i.useCallback)((function(e){var t=e.inProgress,r=e.submitSuccess,n=e.submitError,a=J?N:s.$0.AccountPage;t&&(V({action:s.ld.EmailResetInstructions,label:s.YX.EmailResetInstructions,category:a}),h(!0)),r&&(V({action:s.ld.EmailResetInstructionsSuccess,label:s.YX.EmailResetInstructionsSuccess,category:a}),h(!1),S(!0)),n&&(V({action:s.ld.EmailResetInstructionsError,label:s.YX.EmailResetInstructionsError,category:a}),h(!1))}),[N]),ve=(0,i.useCallback)((function(e){m(e)}),[N]),xe=(0,c.r)({category:s.$0.LoginPage}).Track,we=(0,c.r)({category:s.$0.CheckoutLoginPage}).Track;(0,i.useEffect)((function(){window.location.href.includes("auth.stage.warby.io")&&r("https://www.stage.warby.io")}),[r]);var ke=(0,i.useContext)(dt.p).setHeaderVariant,je=(0,i.useContext)(gt.f),Oe=je.setFooterVariant,Se=je.setIsCheckout,Ce=(0,i.useState)(!1),Pe=Ce[0],Ee=Ce[1],Te=(0,i.useState)(!0),Ie=Te[0],De=Te[1];(0,i.useEffect)((function(){var e=!F&&U.isReady;e&&"true"===X?(ke("minimal"),Se(!0),_(s.$0.CheckoutLoginPage),Ee(!0),De(!1)):e&&!X&&(_(s.$0.LoginPage),Ee(!0),De(!1)),e&&J&&(ke("minimal"),z(!0)),e&&Q&&(ce&&"string"===typeof ce&&E(ce),ke("minimal"),D(!0)),e&&H(!0),Oe("minimal")}),[X,U,J,Q,ce,F,ke,Oe,Se,Ee,z,D,H]),(0,i.useEffect)((function(){I||A||b===v.Error||b===v.Success?(ke("minimal"),Oe("disabled")):(ke(X?"minimal":"normal"),Se(!!X),Oe("minimal"))}),[I,A,b,X,ke,Oe,Se]),(0,i.useEffect)((function(){Pe&&N&&V({category:N,action:s.ld.LoginPageImpression,label:s.YX.LoginPageImpression})}),[Pe,N]);var Le=function(){De(!1)},Ae=X?we:xe,ze=ee&&(I||A),$e=re&&w===x.Passwordless&&b!==v.Error,Be=re&&b===v.Error,Me=!ze&&!$e&&!Be,Re=function(e){return(0,K.jsx)(lr,{passwordResetLink:pe,errorBannerCTAOnClick:re?he:ge,clickPasswordReset:ge,submitCallback:be,updateEmailValue:de,borders:e,showSignInForm:!(le&&!X)||!B,clickSignInLinkHandler:function(e){le&&(e.preventDefault(),M(!1),document.body.scrollIntoView({behavior:"smooth"}))}})},Fe=function(){return(0,K.jsx)(Yt,{})},He=function(e){return(0,K.jsx)(Wr,{showSignUpForm:le&&!X?B:!!te,submitCallback:me,updateEmailValue:de,errorBannerCTAOnClick:ge,country:"string"===typeof se?se:"US",borders:e,clickSignUpLinkHandler:function(e){le&&(e.preventDefault(),M(!0),document.body.scrollIntoView({behavior:"smooth"}))}})},We=He,Ne=Re;return le?le&&X?(We=Fe,Ne=Re):le&&!B?(We=Re,Ne=He):le&&B&&(We=He,Ne=Re):X?(We=Fe,Ne=Re):!X&&Y?(We=He,Ne=Re):X||Y||(We=Re,Ne=He),(0,K.jsxs)(q,{isPasswordlessLinkEnabled:!!re,isGoogleSignInEnabled:!!ne,isAppleSignInEnabled:!!ae,useNewCopyForPostPasswordlessLaunch:!!oe,children:[(0,K.jsxs)(n.default,{children:[(0,K.jsxs)("title",{children:[ue," | Warby Parker"]}),(0,K.jsx)("meta",{property:"og:title",content:"{pageTitle} | Warby Parker"},"title"),(0,K.jsx)("link",{rel:"icon",href:"/favicon.ico"}),t&&(0,K.jsx)("base",{href:t}),(0,K.jsx)("style",{children:"body {\n              background-color: ".concat(u.O.grayscaleSilk,";\n          }")})]}),Ie&&(0,K.jsx)(Kr,{onClick:Le}),(0,K.jsx)(d.f,{isLoading:b===v.InProgress||l||!Pe,loadingOpacity:0,children:Pe&&(0,K.jsx)(Ae,{children:(0,K.jsxs)(Zr,{showChangePassword:!!ze,children:[(0,K.jsx)(g.k,{children:(0,K.jsxs)(g.M,{columns:{default:[1,4],tablet:[3,6],desktop:[4,9]},children:[ze&&(0,K.jsx)(Zt,{submitCallback:ye,isForgotPassword:A,clickBackToSignIn:fe,clickBackToProfile:function(){var e=O?s.ld.EmailResetInstructionsSuccessBackToProfile:s.ld.EmailResetInstructionsBackToProfile,t=s.YX.EmailResetInstructionsSuccessBackToProfile;V({action:e,label:t,category:s.$0.AccountPage})},changePasswordSuccess:O,prepopulateValue:P,initialError:ie?"default":void 0}),$e&&(0,K.jsx)(ot,{email:P,clickBackToSignIn:fe,submitCallback:ve}),Be&&(0,K.jsx)(pt,{clickBackToSignIn:fe,errorKey:"genericError"})]})}),Me&&le&&(0,K.jsxs)(g.k,{children:[(0,K.jsx)(g.M,{columns:{default:[1,4],tablet:[3,6],desktop:[5,8]},children:We(!1)}),(0,K.jsx)(g.M,{columns:{default:[1,4],tablet:[3,6],desktop:[5,8]},children:(0,K.jsxs)(Ur,{children:[le&&(0,K.jsx)(Gr,{}),(0,K.jsx)(Nr.i,{color:"silver",type:"inset",padded:!1})]})}),(0,K.jsx)(g.M,{columns:{default:[1,4],tablet:[3,6],desktop:[5,8]},children:Ne(!0)})]}),Me&&!le&&(0,K.jsxs)(g.k,{children:[(0,K.jsx)(g.M,{columns:{default:[1,4],tablet:[2,7],desktop:[1,6]},children:We(!1)}),(0,K.jsx)(g.M,{columns:{default:[1,4],tablet:[2,7],desktop:[7,12]},children:Ne(!0)})]})]})})}),Ie&&(0,K.jsx)(Yr,{onClick:Le})]})}},3883:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth0/login",function(){return r(4781)}])},9008:function(e,t,r){e.exports=r(639)}},function(e){e.O(0,[365,774,888,179],(function(){return t=3883,e(e.s=t);var t}));var t=e.O();_N_E=t}]);